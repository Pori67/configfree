<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙØ±ÛŒ Ù†Øª - Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ùˆ Ø§Ù…Ù†</title>
    <meta name="description" content="ÙØ±ÛŒ Ù†ØªØŒ Ø³Ø±ÙˆÛŒØ³ VPN Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ùˆ Ø§Ù…Ù†">
    <meta name="keywords" content="VPN, ÙØ±ÛŒ Ù†Øª, Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯, V2Ray, Ø³Ø±ÙˆÛŒØ³ VPN Ø±Ø§ÛŒÚ¯Ø§Ù†">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'vazir': ['Vazirmatn', 'Tahoma', 'Arial', 'sans-serif']
                    },
                    colors: {
                        primary: '#10B981', // Ø³Ø¨Ø² Ù†Ø¦ÙˆÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
                        secondary: '#4B5EAA', // Ø¢Ø¨ÛŒ Ø¨Ù†ÙØ´ Ø¨Ø±Ø§ÛŒ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
                        accent: '#A78BFA', // Ø¨Ù†ÙØ´ Ø±ÙˆØ´Ù† Ø¨Ø±Ø§ÛŒ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
                        card: 'rgba(255, 255, 255, 0.1)', // Ú©Ø§Ø±Øª Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'gradient-flow': 'gradientFlow 10s ease infinite',
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: 0 }, '100%': { opacity: 1 } },
                        slideUp: { '0%': { transform: 'translateY(20px)', opacity: 0 }, '100%': { transform: 'translateY(0)', opacity: 1 } },
                        gradientFlow: {
                            '0%, 100%': { 'background-position': '0% 50%' },
                            '50%': { 'background-position': '100% 50%' },
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #4B5EAA, #A78BFA, #6B7280);
            background-size: 200% 200%;
            animation: gradient-flow 10s ease infinite;
            color: #F3F4F6;
        }
        .card-float {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card-float:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
        }
        .status-dot {
            background: #10B981;
            box-shadow: 0 0 12px rgba(16, 185, 129, 0.8);
            animation: pulse-slow 2s infinite;
        }
        .nav-link {
            transition: background 0.3s ease, transform 0.3s ease;
        }
        .nav-link:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.1);
        }
        .toast {
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        /* Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        #mobile-menu {
            transition: max-height 0.3s ease-in-out;
        }
        @media (max-width: 768px) {
            .nav-link {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Sticky Header -->
    <header class="fixed top-0 left-0 right-0 bg-gray-900 bg-opacity-95 backdrop-blur-lg z-50 shadow-xl">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center space-x-4 space-x-reverse">
                <span class="text-3xl text-primary">ğŸš€</span>
                <h1 class="text-2xl font-bold text-white">ÙØ±ÛŒ Ù†Øª</h1>
            </div>
            <button id="menuToggle" class="md:hidden text-white p-2 rounded-full hover:bg-gray-700" aria-label="Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ù†Ùˆ">
                <i class="fa-solid fa-bars"></i>
            </button>
            <nav id="desktop-menu" class="hidden md:flex space-x-4 space-x-reverse">
                <a href="#sublink" class="nav-link px-4 py-2 text-white rounded-lg">Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©</a>
                <a href="#download" class="nav-link px-4 py-2 text-white rounded-lg">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
                <a href="#faq" class="nav-link px-4 py-2 text-white rounded-lg">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</a>
            </nav>
            <button id="themeToggle" class="text-white p-2 rounded-full hover:bg-gray-700" aria-label="ØªØºÛŒÛŒØ± ØªÙ…">
                <i class="fa-solid fa-moon"></i>
            </button>
        </div>
        <!-- Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ -->
        <nav id="mobile-menu" class="md:hidden hidden flex-col space-y-2 px-4 pb-4 bg-gray-900 bg-opacity-95 max-h-0 overflow-hidden">
            <a href="#sublink" class="nav-link px-4 py-2 text-white rounded-lg">Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©</a>
            <a href="#download" class="nav-link px-4 py-2 text-white rounded-lg">Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
            <a href="#faq" class="nav-link px-4 py-2 text-white rounded-lg">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="pt-24 pb-16 container mx-auto px-4 text-center">
        <div class="animate-slide-up">
            <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯ Ø¨Ø§ ÙØ±ÛŒ Ù†Øª</h2>
            <p class="text-base md:text-lg text-gray-200 mb-8">Ø§ØªØµØ§Ù„ Ø³Ø±ÛŒØ¹ØŒ Ø§Ù…Ù† Ùˆ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ù‡ Ø¯Ù†ÛŒØ§ÛŒ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª</p>
            <div class="card-float rounded-2xl p-6 max-w-md mx-auto">
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div>
                        <p class="text-sm text-gray-300">ÙˆØ¶Ø¹ÛŒØª</p>
                        <div class="flex items-center justify-center">
                            <span class="status-dot w-3 h-3 rounded-full mr-2"></span>
                            <span id="uptime" class="font-bold text-primary">99.99%</span>
                        </div>
                    </div>
                    <div>
                        <p class="text-sm text-gray-300">Ø³Ø±ÙˆØ±Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„</p>
                        <span id="activeServers" class="font-bold text-primary">24</span>
                    </div>
                    <div>
                        <p class="text-sm text-gray-300">Ù¾ÛŒÙ†Ú¯</p>
                        <span id="serverPing" class="font-bold text-primary">-- ms</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Subscription Link -->
    <section id="sublink" class="py-16 container mx-auto px-4 animate-slide-up">
        <div class="card-float rounded-2xl p-8 max-w-lg mx-auto text-center">
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©</h2>
            <p class="text-gray-200 mb-6">Ù„ÛŒÙ†Ú© Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯ ØªØ§ Ù‡Ù…Ù‡ Ø³Ø±ÙˆØ±Ù‡Ø§ Ø¨Ù‡ Ú©Ù„Ø§ÛŒÙ†Øª Ø´Ù…Ø§ Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆÙ†Ø¯.</p>
            <div class="bg-gray-800 rounded-lg p-4 mb-6">
                <p id="subLink" class="font-mono text-primary break-all">https://pppppppp-bth.pages.dev/sub/full-normal/yb0jfuGF*F0hd0BP?app=xray#%F0%9F%92%A6%20BPB%20Full%20Normal</p>
            </div>
            <button onclick="copySubLink()" class="bg-primary hover:bg-green-600 text-white px-6 py-3 rounded-lg font-bold transition-all" aria-label="Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú©">
                <i class="fa-solid fa-copy mr-2"></i>Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú©
            </button>
        </div>
    </section>

    <!-- Config and QR Code -->
    <section id="configs" class="py-16 container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
            <!-- Config List -->
            <div class="card-float rounded-2xl p-8 animate-slide-up">
                <h3 class="text-xl md:text-2xl font-bold text-white mb-4">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ù†ÙÛŒÚ¯</h3>
                <div id="config-list-container" class="space-y-3 max-h-64 overflow-y-auto"></div>
            </div>
            <!-- QR Code -->
            <div class="card-float rounded-2xl p-8 animate-slide-up">
                <h3 class="text-xl md:text-2xl font-bold text-white mb-4">QR Ú©Ø¯</h3>
                <div class="bg-white rounded-lg p-4 mb-6 flex justify-center">
                    <div id="qrcode"></div>
                </div>
                <select id="configSelect" onchange="generateQR()" class="w-full bg-gray-800 text-white p-3 rounded-lg">
                    <!-- Options will be injected here -->
                </select>
            </div>
        </div>
    </section>

    <!-- Download Section -->
    <section id="download" class="py-16 container mx-auto px-4">
        <h2 class="text-2xl md:text-3xl font-bold text-white text-center mb-8">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
            <a href="https://play.google.com/store/apps/details?id=app.hiddify.com&pli=1" class="card-float rounded-2xl p-6 text-center">
                <i class="fa-brands fa-android text-5xl text-primary mb-4"></i>
                <h3 class="font-bold text-white">Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯</h3>
                <p class="text-gray-300">hiddify</p>
            </a>
            <a href="https://apps.apple.com/us/app/hiddify-proxy-vpn/id6596777532?platform=iphone" class="card-float rounded-2xl p-6 text-center">
                <i class="fa-brands fa-apple text-5xl text-primary mb-4"></i>
                <h3 class="font-bold text-white">iOS</h3>
                <p class="text-gray-300">hiddify</p>
            </a>
            <a href="https://github.com/hiddify/hiddify-app/releases/latest/download/Hiddify-Windows-Setup-x64.Msix" class="card-float rounded-2xl p-6 text-center">
                <i class="fa-brands fa-windows text-5xl text-primary mb-4"></i>
                <h3 class="font-bold text-white">ÙˆÛŒÙ†Ø¯ÙˆØ²</h3>
                <p class="text-gray-300">hiddify</p>
            </a>
            <a href="https://github.com/hiddify/hiddify-next/releases" class="card-float rounded-2xl p-6 text-center">
                <i class="fa-brands fa-apple text-5xl text-primary mb-4"></i>
                <h3 class="font-bold text-white">macOS</h3>
                <p class="text-gray-300">Hiddify Next</p>
            </a>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 container mx-auto px-4">
        <h2 class="text-2xl md:text-3xl font-bold text-white text-center mb-8">Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„</h2>
        <div id="faq-container" class="max-w-3xl mx-auto space-y-4"></div>
    </section>

    <!-- Footer -->
    <footer class="py-8 bg-gray-900 bg-opacity-95 text-center">
        <p class="text-gray-200">Â© 1404 Ø¢Ø²Ø§Ø¯ÛŒâ€ŒÙ†Øª - Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¢Ø²Ø§Ø¯</p>
        <div class="flex justify-center space-x-4 mt-4">
            <a href="https://t.me/ropia67" class="text-primary hover:text-green-600"><i class="fa-brands fa-telegram text-2xl"></i></a>
        </div>
    </footer>

    <script>
        const configs = {
            cf_de_1: { name: 'VLESS - ', config: 'https://raw.githubusercontent.com/barry-far/V2ray-config/main/Splitted-By-Protocol/vless.txt' },
            cf_de_2: { name: 'Vmess - ', config: 'https://raw.githubusercontent.com/barry-far/V2ray-config/main/Splitted-By-Protocol/vmess.txt' },
            cf_de_tr_7: { name: 'Trojan - ', config: 'https://raw.githubusercontent.com/barry-far/V2ray-config/main/Splitted-By-Protocol/trojan.txt' },
        };

        const faqData = [
            { question: "Ø¢ÛŒØ§ Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³ØªØŸ", answer: "Ø¨Ù„Ù‡ØŒ ÙØ±ÛŒ Ù†Øª Ú©Ø§Ù…Ù„Ø§Ù‹ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø§Ø³Øª Ùˆ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¢Ø²Ø§Ø¯ Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª." },
            { question: "Ú†Ú¯ÙˆÙ†Ù‡ Ø³Ø±Ø¹Øª Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¯Ù‡Ù…ØŸ", answer: "Ø³Ø±ÙˆØ±ÛŒ Ø¨Ø§ Ù¾ÛŒÙ†Ú¯ Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ù…ØµØ±Ù Ø±Ø§ Ø¨Ø¨Ù†Ø¯ÛŒØ¯." },
            { question: "Ø¢ÛŒØ§ Ø§Ù…Ù† Ø§Ø³ØªØŸ", answer: "Ø¨Ù„Ù‡ØŒ Ø§Ø² Ù¾Ø±ÙˆØªÚ©Ù„â€ŒÙ‡Ø§ÛŒ Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ø´Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…." },
        ];

        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOMContentLoaded triggered');
            showWelcomeToast();
            buildFAQ();
            buildConfigList();
            buildQRSelect();
            updateServerStats();
            setInterval(updateServerStats, 3000);
            getUserInfo();

            // Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ
            const menuToggle = document.getElementById('menuToggle');
            const mobileMenu = document.getElementById('mobile-menu');
            menuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                mobileMenu.classList.toggle('max-h-96');
                mobileMenu.classList.toggle('max-h-0');
                const icon = menuToggle.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });

            // ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ QR Ú©Ø¯
            setTimeout(() => {
                const select = document.getElementById('configSelect');
                if (select.options.length > 0) {
                    console.log('Generating initial QR code for:', select.value);
                    generateQR();
                } else {
                    console.error('No config options available');
                    document.getElementById('qrcode').innerHTML = '<p class="text-red-400">Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</p>';
                }
            }, 0);

            // Theme Toggle
            document.getElementById('themeToggle').addEventListener('click', () => {
                document.body.classList.toggle('light');
                const icon = document.getElementById('themeToggle').querySelector('i');
                icon.classList.toggle('fa-moon');
                icon.classList.toggle('fa-sun');
                if (document.body.classList.contains('light')) {
                    document.body.style.background = 'linear-gradient(135deg, #E5E7EB, #D1D5DB, #9CA3AF)';
                    document.body.style.color = '#1F2937';
                } else {
                    document.body.style.background = 'linear-gradient(135deg, #4B5EAA, #A78BFA, #6B7280)';
                    document.body.style.color = '#F3F4F6';
                }
            });

            // Scroll Animation
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('animate-slide-up');
                });
            }, { threshold: 0.2 });
            document.querySelectorAll('.animate-slide-up').forEach(el => observer.observe(el));
        });

        function updateServerStats() {
            document.getElementById('uptime').textContent = (99.99 + (Math.random() - 0.5) * 0.01).toFixed(2) + '%';
            document.getElementById('serverPing').textContent = Math.round(50 + (Math.random() - 0.5) * 20) + ' ms';
        }

        async function getUserInfo() {
            try {
                const response = await fetch('https://ipapi.co/json/', { signal: AbortSignal.timeout(5000) });
                if (!response.ok) throw new Error('Failed to fetch IP info');
                const data = await response.json();
            } catch (error) {
                showToast('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±!', 'error');
            }
        }

        function buildConfigList() {
            const container = document.getElementById('config-list-container');
            if (!container) {
                console.error('Config list container not found');
                return;
            }
            container.innerHTML = '';
            Object.keys(configs).forEach(key => {
                console.log('Building config:', key, configs[key].name);
                const button = document.createElement('button');
                button.className = 'w-full bg-gray-800 hover:bg-gray-700 text-white p-3 rounded-lg flex justify-between';
                button.innerHTML = `<span>${configs[key].name}</span><i class="fa-solid fa-copy"></i>`;
                button.setAttribute('aria-label', `Ú©Ù¾ÛŒ Ú©Ø§Ù†ÙÛŒÚ¯ ${configs[key].name}`);
                button.onclick = () => copyToClipboard(configs[key].config, 'Ú©Ø§Ù†ÙÛŒÚ¯ Ú©Ù¾ÛŒ Ø´Ø¯!');
                container.appendChild(button);
            });
        }

        function buildQRSelect() {
            const select = document.getElementById('configSelect');
            if (!select) {
                console.error('Config select element not found');
                return;
            }
            select.innerHTML = '';
            Object.keys(configs).forEach(key => {
                console.log('Building QR select option:', key, configs[key].name);
                const option = document.createElement('option');
                option.value = key;
                option.textContent = configs[key].name;
                select.appendChild(option);
            });
        }

        function generateQR() {
            const select = document.getElementById('configSelect');
            const qrContainer = document.getElementById('qrcode');
            if (!select || !qrContainer) {
                console.error('Select or QR container not found');
                qrContainer.innerHTML = '<p class="text-red-400">Ø®Ø·Ø§: Ø¹Ù†Ø§ØµØ± Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² ÛŒØ§ÙØª Ù†Ø´Ø¯</p>';
                return;
            }
            qrContainer.innerHTML = '';

            try {
                if (!select.value || !configs[select.value]) {
                    throw new Error('Ù‡ÛŒÚ† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ú©Ø§Ù†ÙÛŒÚ¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.');
                }

                console.log('Generating QR for:', configs[select.value].config);
                const qr = qrcode(0, 'M');
                qr.addData(configs[select.value].config);
                qr.make();

                qrContainer.innerHTML = qr.createSvgTag({ 
                    cellSize: 8,
                    margin: 4,
                    scalable: true 
                });

                const svg = qrContainer.querySelector('svg');
                if (svg) {
                    svg.style.width = '100%';
                    svg.style.height = 'auto';
                    svg.style.maxWidth = '250px';
                } else {
                    throw new Error('SVG ØªÙˆÙ„ÛŒØ¯ Ù†Ø´Ø¯.');
                }
            } catch (error) {
                console.error('QR generation error:', error.message);
                qrContainer.innerHTML = '<p class="text-red-400">Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ QR Ú©Ø¯: ' + error.message + '</p>';
                showToast('Ø®Ø·Ø§ Ø¯Ø± ØªÙˆÙ„ÛŒØ¯ QR Ú©Ø¯!', 'error');
            }
        }

        function copySubLink() {
            copyToClipboard(document.getElementById('subLink').textContent, 'Ù„ÛŒÙ†Ú© Ú©Ù¾ÛŒ Ø´Ø¯!');
        }

        async function copyToClipboard(text, message) {
            try {
                await navigator.clipboard.writeText(text);
                showToast(message, 'success');
            } catch {
                showToast('Ø®Ø·Ø§ Ø¯Ø± Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù†!', 'error');
            }
        }

        function buildFAQ() {
            const container = document.getElementById('faq-container');
            faqData.forEach(item => {
                const faqItem = document.createElement('div');
                faqItem.className = 'card-float rounded-lg p-4';
                faqItem.innerHTML = `
                    <div class="faq-question flex justify-between items-center cursor-pointer" role="button" aria-expanded="false">
                        <h3 class="font-bold text-white">${item.question}</h3>
                        <i class="fa-solid fa-chevron-down text-gray-300"></i>
                    </div>
                    <div class="faq-answer max-h-0 overflow-hidden transition-all duration-300">
                        <p class="p-4 text-gray-200">${item.answer}</p>
                    </div>`;
                container.appendChild(faqItem);

                faqItem.querySelector('.faq-question').addEventListener('click', () => {
                    const answer = faqItem.querySelector('.faq-answer');
                    const icon = faqItem.querySelector('i');
                    const isExpanded = faqItem.querySelector('.faq-question').getAttribute('aria-expanded') === 'true';
                    faqItem.querySelector('.faq-question').setAttribute('aria-expanded', !isExpanded);
                    answer.style.maxHeight = answer.style.maxHeight ? null : `${answer.scrollHeight}px`;
                    icon.classList.toggle('rotate-180');
                });
            });
        }

        function showWelcomeToast() {
            if (sessionStorage.getItem('welcomeShown')) return;
            showToast('Ø¨Ù‡ ÙØ±ÛŒ Ù†Øª Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! ğŸš€', 'success');
            sessionStorage.setItem('welcomeShown', 'true');
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast fixed bottom-4 right-4 p-4 rounded-lg shadow-lg text-white ${type === 'success' ? 'bg-primary' : 'bg-red-500'}`;
            toast.innerHTML = `<i class="fa-solid ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} mr-2"></i>${message}`;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(20px)';
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }
    </script>
</body>
</html>
